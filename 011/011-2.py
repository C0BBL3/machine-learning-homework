import random

best_strategy = {'120022211': 2, '210001022': 6, '112202021': 4, '010020002': 0, '000000200': 5, '000020210': 2, '120020210': 2, '000000002': 1, '000001022': 1, '002000000': 0, '102200000': 1, '112202000': 8, '200001200': 3, '202001210': 1, '202101212': 4, '000001202': 7, '112202201': 4, '012021122': 3, '000002000': 0, '100202000': 4, '100202201': 1, '010000022': 6, '012001022': 6, '000121202': 1, '112200002': 5, '112200212': 4, '012000002': 5, '220112201': 7, '020000000': 3, '020100200': 4, '220110200': 2, '212001002': 4, '212101022': 4, '020001221': 4, '210102002': 2, '202120100': 7, '100020212': 2, '121122200': 8, '000001220': 8, '210000002': 4, '000020000': 7, '200020100': 3, '020120000': 7, '120122000': 7, '021112202': 7, '212012000': 8, '221212001': 6, '100022021': 3, '122101220': 8, '020112200': 2, '200000000': 4, '202010000': 1, '000200000': 4, '020210000': 8, '220210001': 6, '000000020': 0, '100002020': 8, '022100000': 0, '022101020': 0, '020001200': 4, '220011200': 3, '220011221': 2, '010002002': 2, '011022002': 0, '011022212': 0, '010021022': 0, '022101221': 4, '020110202': 5, '122000000': 3, '122100002': 5, '122110202': 5, '112002221': 4, '002020112': 0, '010021202': 7, '220010000': 2, '100002200': 1, '112002200': 8, '000020012': 0, '010000202': 7, '102002021': 4, '102220112': 5, '102020000': 6, '102020012': 6, '112220120': 5, '110022212': 2, '201010220': 5, '200020010': 8, '100020020': 1, '112020020': 6, '010022012': 0, '200010200': 3, '020102000': 7, '020122010': 6, '220122110': 8, '102000002': 5, '022121102': 7, '122102210': 8, '220010021': 2, '020100002': 5, '022101002': 0, '122102000': 8, '200010020': 8, '000212000': 0, '100212200': 8, '220120010': 2, '120002000': 8, '120002201': 4, '110022221': 2, '122220011': 5, '100212002': 2, '010221212': 2, '000201200': 0, '202021010': 8, '012020012': 5, '020211212': 0, '000220010': 5, '020220011': 0, '002020010': 6, '000210002': 7, '020210012': 5, '200010221': 3, '200210012': 1, '110002202': 2, '211210022': 6, '201012212': 3, '100002002': 2, '010200002': 2, '011200022': 6, '201012200': 7, '021022112': 3, '021220112': 0, '020020010': 6, '020020112': 0, '000022010': 3, '020022011': 6, '112221020': 6, '110220020': 5, '100012022': 6, '100000022': 6, '101020022': 1, '212100002': 7, '211200002': 4, '200220011': 6, '212100122': 4, '210100022': 6, '221010200': 3, '221110220': 5, '102022010': 3, '200010002': 3, '220110002': 5, '020022110': 3, '012220112': 5, '020122211': 2, '020102210': 8, '100000220': 8, '110200220': 2, '110020022': 6, '110022122': 3, '102002000': 8, '122002010': 8, '122002211': 4, '121210202': 5, '000210200': 0, '001210202': 7, '002210000': 1, '012210002': 7, '020100020': 4, '021102020': 6, '021102122': 0, '000210020': 2, '001210220': 8, '101212220': 8, '122101022': 6, '200122010': 8, '022121012': 0, '011221202': 7, '002021012': 3, '011200202': 0, '122020010': 6, '122220110': 8, '112202210': 8, '102002210': 1, '101200022': 5, '101221022': 1, '100022120': 2, '100200020': 1, '112200020': 6, '100022000': 3, '221100020': 4, '221112020': 6, '102001202': 4, '022102010': 8, '210211022': 2, '002001200': 4, '010201022': 4, '200210000': 6, '200211020': 6, '220211120': 2, '122122010': 6, '122201021': 6, '102000020': 8, '122000021': 4, '102000200': 4, '102100202': 4, '122101202': 4, '202211000': 1, '100212020': 6, '102212120': 8, '102000221': 4, '120120200': 5, '000021200': 2, '001221200': 8, '012000212': 4, '200021210': 8, '212211002': 7, '101002022': 6, '101212022': 1, '211212002': 6, '122001221': 4, '200210021': 6, '200212121': 2, '200211002': 1, '022121000': 0, '011202002': 4, '120202001': 4, '200001212': 4, '220011212': 3, '011002022': 6, '011202122': 4, '021210200': 0, '102201212': 1, '122002001': 6, '122202101': 7, '021112220': 8, '021100220': 4, '122120000': 6, '121210220': 8, '102102200': 8, '110221220': 2, '020220110': 8, '110020220': 2, '120000020': 4, '120012020': 6, '120012122': 2, '001021220': 8, '002220011': 0, '211002002': 4, '211012202': 7, '020210201': 0, '200101202': 4, '220112210': 8, '012001202': 7, '120112022': 6, '200012000': 7, '220012010': 2, '120010022': 6, '102200021': 1, '110002022': 2, '110212022': 2, '200120210': 1, '212011022': 3, '212010002': 5, '000210212': 0, '100212212': 1, '120212000': 6, '120212120': 8, '122022011': 6, '002022011': 6, '220101002': 4, '202011212': 1, '001212020': 0, '212220011': 6, '200112212': 1, '200012210': 3, '122001200': 4, '020211200': 0, '212010200': 3, '212110202': 7, '110022200': 2, '212210021': 6, '202010021': 1, '202101221': 4, '220211000': 6, '200001221': 3, '110202020': 4, '110212220': 2, '110002220': 8, '020121002': 0, '121000022': 3, '121102022': 6, '102220010': 1, '212210000': 7, '112200122': 4, '100202021': 4, '110202002': 2, '110202212': 2, '102022121': 3, '112012220': 8, '211202102': 4, '102212000': 8, '100221221': 2, '210212021': 6, '102020021': 6, '000220112': 2, '000201221': 0, '200012021': 1, '021210020': 6, '220011002': 3, '012210221': 0, '012210020': 8, '202110002': 5, '120120002': 6, '120010220': 8, '120112220': 8, '122202011': 6, '112000220': 5, '012212120': 8, '012212000': 8, '002101202': 0, '102201221': 4, '112220021': 5, '220102211': 4, '220100000': 2, '220102001': 2, '022021010': 0, '212011202': 3, '210112202': 7, '210022211': 2, '200112002': 2, '200022011': 3, '020011202': 3, '022210001': 0, '100022102': 3, '211002122': 4, '220101212': 4, '120121202': 7, '220001210': 3, '100002221': 2, '101202221': 4, '202122110': 8, '210100202': 4, '020011220': 3, '212112200': 7, '122021012': 6, '212000012': 5, '221011220': 3, '001021202': 0, '201021200': 8, '020121212': 2, '020101202': 7, '002210012': 1, '202012010': 1, '202212011': 6, '200211122': 1, '110202200': 4, '120212012': 2, '011002202': 7, '211002212': 4, '212100212': 5, '112201022': 6, '110200022': 6, '011220002': 0, '120022001': 3, '221110022': 6, '210001202': 3, '000022211': 2, '112200200': 4, '112200221': 4, '012201221': 4, '100221212': 1, '002001221': 4, '100220210': 5, '112022021': 6, '102202010': 8, '220101221': 2, '022211210': 8, '122110022': 5, '220122011': 6, '122112200': 8, '122100200': 4, '220120211': 5, '020212001': 0, '221010212': 5, '201010202': 3, '012210200': 0, '112212200': 7, '212001221': 4, '102100220': 4, '122110220': 8, '121212020': 6, '020110220': 8, '112201220': 8, '102201200': 4, '122201012': 6, '102200012': 5, '112102220': 8, '212211020': 6, '212010020': 5, '022020110': 0, '101022221': 1, '012211202': 7, '220112021': 6, '202011221': 3, '220211102': 2, '202120010': 6, '120201221': 4, '212010221': 3, '220020110': 8, '120210212': 2, '102001220': 4, '022211201': 0, '212012120': 8, '020101022': 4, '210201122': 2, '100022210': 3, '122212100': 8, '102220121': 1, '201210020': 6, '220011020': 2, '221011022': 6, '110220212': 2, '010020212': 0, '200212010': 1, '022101200': 0, '122121002': 6, '102112220': 8, '022211012': 0, '121002221': 4, '120002021': 4, '102000212': 4, '021122012': 6, '020102012': 2, '001212200': 1, '011212202': 7, '012200012': 4, '022112210': 8, '110221022': 2, '120022100': 3, '022110200': 5, '220100021': 2, '021021200': 7, '200012012': 1, '000212012': 2, '201212012': 1, '121202021': 4, '001212212': 1, '000021221': 2, '210012221': 3, '102212210': 8, '221012210': 8, '200110022': 5, '001210022': 6, '221112200': 7, '220221110': 8, '010220012': 5, '101022122': 3, '212012021': 6, '011022122': 0, '000211202': 0, '221102210': 8, '220102010': 2, '102202211': 1, '121122002': 6, '122020112': 3, '020122112': 0, '112201202': 7, '200110202': 5, '102022100': 3, '020210021': 5, '022211021': 0, '120220211': 2, '110022002': 2, '110122202': 2, '021100022': 5, '112021022': 3, '022122110': 0, '122201201': 4, '100212122': 2, '010201202': 0, '221121200': 8, '122022110': 3, '122221010': 6, '120212102': 2, '000022112': 1, '022011200': 3, '220101122': 4, '220120001': 2, '220121201': 2, '002221010': 6, '202221110': 8, '012212021': 0, '022221110': 8, '021102212': 4, '021121202': 0, '101212202': 1, '212212100': 7, '210102122': 4, '220211012': 2, '112020122': 3, '002211200': 0, '102211220': 8, '110212202': 7, '220100201': 4, '000211220': 8, '022102211': 0, '221122010': 6, '122010020': 3, '122112020': 8, '012201122': 0, '120210020': 6, '122210120': 8, '202112210': 1, '211012022': 6, '221021210': 8, '122012120': 8, '102210212': 1, '112202120': 4, '121201022': 4, '212101202': 7, '202110212': 5, '000220211': 5, '100122212': 1, '122100020': 4, '122102021': 6, '110122022': 6, '202211120': 8, '210122210': 2, '110022020': 2, '020211221': 2, '102202001': 4, '201121220': 8, '022101212': 4, '210112022': 6, '202020011': 6, '022210211': 0, '021221012': 0, '000221012': 0, '122211200': 8, '122001212': 3, '122000012': 5, '221102012': 4, '112220012': 6, '112220000': 5, '221102120': 8, '221110202': 5, '220112012': 6, '122122001': 6, '211102202': 7, '112212020': 8, '110221202': 2, '122100221': 4, '201022211': 3, '112210220': 8, '022101122': 0, '120122210': 8, '110220122': 2, '002221112': 1, '221211020': 8, '012211022': 6, '012211220': 0, '122212010': 8, '122022101': 7, '011202212': 4, '112210202': 7, '202210121': 1, '022212011': 0, '220110221': 5, '011212220': 8, '021022211': 0, '221210021': 5, '211212020': 6, '102221012': 6, '200121221': 2, '021212201': 0, '112022120': 3, '102211202': 7, '120221210': 2, '021210221': 5, '101202122': 4, '110202221': 2, '012221012': 6, '122002121': 4, '010020122': 0, '021212012': 6, '211021220': 8, '121012022': 6, '120210122': 2, '120122012': 6, '100022012': 3, '220121210': 8, '212110220': 5, '221102021': 6, '121022102': 3, '221101022': 6, '022021112': 0, '212001122': 4, '220211021': 2, '120021212': 3, '212011220': 3, '011212022': 6, '120122201': 2, '220210121': 2, '200210102': 2, '220021211': 3, '202012211': 1, '212022011': 6, '220210100': 2, '120022112': 3, '201112022': 6, '221211002': 7, '221210000': 6, '202210100': 1, '212210102': 7, '122020100': 3, '221112002': 6, '221102000': 4, '102000122': 5, '020221112': 2, '020221010': 6, '101022002': 1, '000122012': 2, '102020120': 1, '120220112': 2, '210210002': 6, '220110020': 2, '000122210': 2, '100210202': 7, '210210122': 2, '200210120': 1, '100020221': 2, '002011202': 7, '011122022': 6, '002122010': 6, '010002122': 2, '020221211': 2, '201020210': 3, '102210200': 1, '001221212': 1, '000221210': 0, '001122212': 0, '001020212': 0, '100002122': 2, '210010022': 6, '202110200': 1, '112221002': 7, '110220002': 5, '100201202': 7, '022110020': 5, '000021212': 2, '200121200': 8, '020112020': 8, '020112221': 0, '221120201': 5, '221120000': 7, '201012221': 1, '102010220': 8, '120000122': 4, '010002212': 4, '102122021': 6, '002220110': 5, '200212100': 2, '100200122': 1, '001220210': 5, '010200212': 0, '221012021': 6, '010200122': 2, '211200122': 4, '221102201': 7, '102002201': 4, '021122210': 0, '021020210': 3, '221100122': 5, '221100002': 4, '122010122': 3, '110020202': 2, '102022001': 3, '100200221': 5, '101202002': 4, '221220110': 5, '101220212': 1, '100220012': 5, '200101220': 8, '102012200': 8, '012201002': 4, '022120010': 0, '122120012': 6, '020001212': 0, '200221010': 6, '012210122': 5, '012000122': 5, '221010002': 6, '220112120': 2, '102102221': 4, '210212120': 2, '102020102': 5, '121022210': 3, '102220100': 5, '120221012': 2, '120020012': 5, '202211102': 1, '221010020': 8, '022112021': 0, '102021002': 6, '201112202': 1, '200112200': 2, '210102212': 2, '202020110': 8, '212220110': 8, '122010200': 7, '122210210': 8, '200112221': 1, '212201012': 6, '110202122': 2, '102001022': 6, '102210122': 1, '100201220': 8, '101221220': 8, '112020002': 5, '121002212': 4, '101002202': 7, '221011202': 3, '202011200': 3, '001022210': 3, '102201002': 7, '121201202': 4, '120201200': 2, '020110022': 6, '210000122': 4, '112122020': 6, '100122020': 1, '202221011': 6, '221101220': 8, '100210220': 8, '000201212': 0, '210000212': 4, '210010202': 7, '202122011': 6, '121212200': 8, '002211212': 1, '212221010': 8, '221010221': 5, '122011220': 8, '002022110': 8, '220221011': 2, '012201212': 4, '021120212': 0, '020120012': 0, '122211002': 7, '122001002': 4, '102122000': 6, '100122221': 1, '100122200': 2, '200110220': 5, '212022110': 8, '221120210': 5, '002011220': 8, '022011221': 0, '110220221': 2, '022120112': 0, '102010202': 7, '221100200': 5, '220110122': 2, '100221200': 2, '101202212': 1, '002211221': 0, '120211220': 8, '021220211': 5, '112220102': 5, '210012002': 2, '210012122': 2, '212001212': 4, '002001212': 4, '120000221': 4, '122012210': 8, '121200122': 5, '200020211': 2, '220101200': 4, '011220212': 0, '100020122': 1, '020120210': 2, '212010122': 5, '212210120': 8, '121201220': 8, '221020211': 5, '121220012': 6, '202101200': 4, '210021221': 2, '100122002': 2, '011122202': 0, '101022212': 1, '220020011': 2, '021021212': 0, '120211202': 2, '120120212': 2, '102121022': 6, '120201212': 4, '121002002': 4, '121212002': 6, '122011202': 3, '012021002': 0, '221100221': 4, '021221210': 8, '220212101': 7, '122011022': 3, '221102102': 7, '001212221': 0, '221122001': 6, '221012000': 3, '121210022': 6, '121021202': 3, '120210200': 8, '011220122': 0, '200122211': 2, '022221011': 6, '221101202': 4, '121221200': 8, '202110221': 5, '121020212': 5, '211022210': 8, '212122010': 8, '212212001': 7, '121220210': 8, '122010212': 3, '201112220': 8, '221012012': 6, '211102022': 6, '221001212': 3, '110122220': 2, '201122210': 8, '121002122': 3, '122100212': 5, '021210212': 5, '122102201': 4, '101122220': 1, '012212201': 7, '122021102': 3, '022110221': 5, '101122202': 1, '102221102': 7, '011221220': 0, '210212102': 2, '102201122': 4, '102221120': 8, '121012202': 3, '102021122': 3, '101221202': 1, '122221100': 8, '122001122': 3, '010122212': 2, '121022012': 3, '022011212': 3, '101122022': 1, '020112122': 2, '101220221': 1, '022110122': 5, '221220011': 5, '221022011': 6, '212012201': 7, '012221102': 0, '022122011': 6, '221212010': 6, '211122120': 8, '000000000': 2, '001000020': 3, '201100020': 6, '201120120': 8, '001020000': 1, '011220000': 5, '011221002': 0, '011221212': 0, '001102020': 4, '001112022': 6, '211112022': 6, '001100022': 6, '101120022': 1, '101012022': 6, '021112212': 0, '001000002': 4, '001012002': 0, '021000000': 3, '021102000': 4, '021112200': 7, '001200000': 5, '001201002': 6, '001201122': 1, '211201122': 4, '001000200': 0, '101000220': 8, '101012220': 8, '011120022': 0, '011020020': 3, '201000000': 5, '201001020': 1, '211201020': 8, '001201200': 0, '001211220': 8, '021201000': 4, '221211000': 6, '001010202': 7, '121010220': 8, '011221122': 0, '101210202': 7, '201021000': 8, '101200200': 4, '001201020': 0, '101221020': 1, '101221122': 1, '011221020': 6, '211221120': 8, '001002000': 8, '001022001': 3, '011022021': 3, '011122221': 0, '221001000': 4, '021211200': 0, '221100012': 4, '021100002': 7, '021211020': 8, '121120200': 7, '021100200': 0, '101000202': 7, '101120202': 1, '221100000': 4, '221110020': 8, '221110221': 5, '021100020': 4, '221100120': 4, '011020200': 3, '211120200': 8, '211120221': 5, '011221200': 0, '221112210': 8, '221112000': 7, '201202011': 6, '001202001': 4, '101012202': 1, '001100220': 8, '021100221': 4, '121102221': 4, '201121020': 8, '211001022': 6, '011120202': 0, '121120212': 5, '121100202': 7, '211022001': 3, '201002001': 7, '221212011': 6, '001010022': 6, '011210022': 6, '201201000': 6, '201201102': 4, '221201100': 4, '101210220': 8, '001120020': 1, '021022101': 7, '121100220': 8, '121012212': 3, '021002001': 6, '121000200': 3, '021010002': 0, '121010202': 7, '001211202': 0, '121122201': 7, '101020200': 8, '121020201': 7, '021102012': 0, '121122012': 6, '221002101': 7, '021112020': 8, '021112221': 0, '201010002': 5, '201011022': 3, '001002021': 0, '101002221': 4, '221012211': 3, '221002011': 4, '101212200': 8, '221011200': 3, '201102120': 4, '011120220': 8, '211121220': 8, '121010022': 6, '211122021': 6, '101220201': 5, '121220211': 5, '201001002': 4, '211001220': 8, '221001102': 4, '001002201': 1, '011202201': 0, '001202211': 4, '121202211': 4, '021121212': 0, '021120000': 7, '021121002': 7, '021121200': 7, '221121000': 8, '011122020': 6, '011122122': 0, '021102120': 0, '001210002': 6, '021100122': 4, '211021200': 3, '211020000': 8, '121012002': 6, '201001200': 3, '201011202': 3, '221110002': 5, '201112020': 6, '011020002': 0, '101002200': 8, '101202201': 4, '211010022': 5, '211211022': 6, '021112002': 6, '021211002': 0, '121211022': 6, '221011020': 3, '021002121': 4, '221102121': 4, '021202011': 6, '211122210': 8, '011122200': 7, '011021022': 0, '121211202': 7, '001102221': 4, '001112220': 8, '011022210': 8, '011022000': 3, '101202021': 1, '101022201': 1, '121102200': 4, '121112220': 8, '201121200': 8, '211021020': 8, '221110200': 7, '221110212': 5, '201001122': 4, '001221000': 7, '021221010': 8, '201201120': 1, '101022021': 1, '121002021': 4, '101212002': 1, '121210002': 6, '011022012': 3, '011122212': 0, '221112021': 6, '101102022': 6, '101201022': 1, '001221210': 8, '121102212': 4, '011012022': 0, '101201220': 8, '121211220': 8, '121210212': 5, '121210200': 7, '021201102': 0, '121201122': 4, '211120020': 8, '121112202': 7, '221011002': 6, '001120221': 1, '201211002': 6, '121002201': 3, '201122211': 1, '201002211': 3, '121221012': 6, '001221012': 0, '121221102': 7, '201022011': 3, '121201020': 4, '021120012': 0, '101020221': 5, '121100022': 6, '211022211': 3, '011022201': 3, '211012221': 3, '211002201': 3, '201221100': 8, '021100212': 0, '101102202': 7, '101122020': 8, '121112022': 6, '221221110': 8, '211221000': 8, '201011220': 3, '201112221': 1, '201100221': 4, '021202101': 4, '101120220': 8, '221122011': 6, '121212210': 8, '221112012': 6, '211022010': 3, '201221010': 8, '021211212': 0, '021011202': 7, '021110220': 8, '101122212': 1, '021221112': 0, '001221102': 0, '011002221': 4, '101221212': 1, '021122112': 0, '221121210': 8, '011021202': 0, '211122201': 7, '201100122': 4, '221011212': 3, '221102211': 4, '101122221': 1, '011212221': 0, '221101212': 4, '021110022': 6, '211020021': 3, '121201200': 8, '121122210': 8, '121000221': 4, '201122121': 1, '001122021': 1, '211020201': 5, '001210212': 0, '021212001': 7, '101200212': 4, '101212212': 1, '021122001': 7, '001120122': 0, '021122010': 0, '201101202': 4, '221120010': 8, '001122201': 1, '201212001': 6, '201122001': 6, '001212021': 6, '121000212': 3, '211122000': 8, '021010212': 5, '201010212': 1, '101002212': 4, '101200221': 4, '011122002': 0, '211220001': 5, '201101220': 8, '001212201': 0, '021212211': 0, '101020212': 3, '211212021': 6, '221122101': 7, '021120210': 5, '101221200': 7, '121221210': 8, '021122211': 0, '001012212': 0, '211102221': 4, '121022211': 3, '221101200': 7, '001102122': 0, '121121202': 7, '121201212': 4, '101201202': 7, '211220121': 5, '221120211': 5}

new_possible_moves = {}

order = 0

def print_board(board):
    print('\nCurrent Board\n')
    for i in range(3):
        print('\t' + ''.join([str(space) + ' | ' if j < 2 else str(space) for j, space in enumerate(board[3 * i:3 * (i + 1)])]))
        if i < 2:
            print('\t---------')

for game in range(5):

    print('\nGame:', game + 1)

    board = [i for i in range(9)]

    try:

        for turn in range(9):

            if turn != 0: print_board(board)

            if (turn % 2) == order:

                current_state = ''

                for space in board:
                    if isinstance(space, int): current_state += '0'
                    elif space == 'O': current_state += '1'
                    elif space == 'X': current_state += '2'

                if current_state in best_strategy.keys():
                    current_move = best_strategy[current_state]
                else:
                    choices = [i for i in board if isinstance(i, int)]
                    current_move = random.choices(choices)[0]
                    new_possible_moves[current_state] = current_move

                if isinstance(board[current_move], int): board[current_move] = 'O'
                
                print('\nThe Best strategy placed an O on space', current_move)

            else:

                print('\nWhat is your next move?\n')
                current_move = input()
                
                if current_move == '': 
                    choices = [i for i in board if isinstance(i, int)]
                    current_move = random.choices(choices)[0]
                else:
                    current_move = int(current_move)
                
                if isinstance(board[current_move], int): board[current_move] = 'X'
                print('\nYou placed an X on space', current_move)

            for index, space in enumerate(board):
                
                horizontal = index in [0, 3, 6] and not isinstance(board[index], int) and board[index + 1] == space and board[index + 2] == space
                vertical = index in [0, 1, 2] and not isinstance(board[index], int) and board[index + 3] == space and board[index + 6] == space
                forward_diagonal = index in [0, 4, 8] and not isinstance(board[index], int) and board[0] == space and board[4] == space and board[8] == space
                backward_diagonal = index in [2, 4, 6] and not isinstance(board[index], int) and board[2] == space and board[4] == space and board[6] == space
                
                if [horizontal, vertical, forward_diagonal, backward_diagonal].count(True) > 0:
                    if space == 'O':
                        print('\nThe Best Strategy Won!')
                        for state, move in new_possible_moves.items():
                            best_strategy[state] = move
                        print_board(board)
                        order = 0
                    elif space == 'X':
                        print('\nYou won!')
                        print_board(board)
                        order = 1
                        best_strategy[current_state] = current_move
                    raise Exception('win')

        raise Exception('draw')

    except Exception as exc:
        if exc.args[0] == 'draw':
            print('\nGame Finished: Draw')
            best_strategy[current_state] = current_move
            for state, move in new_possible_moves.items():
                best_strategy[state] = move
            print_board(board)
        continue

print("\n\nNew Strategy\n\n", best_strategy)
    

